const {
    GoogleGenerativeAI,
    HarmCategory,
    HarmBlockThreshold,
  } = require("@google/generative-ai");
  
  const apiKey = process.env.EXPO_PUBLIC_GOOGLE_GEMINI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 64,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  

    export const chatSession = model.startChat({
      generationConfig,
   // safetySettings: Adjust safety settings
   // See https://ai.google.dev/gemini-api/docs/safety-settings
      history: [
        {
            role: "user",
            parts: [
              {text: "Generate Travel Plan for Location : New York, USA, for 3 Days and 2 Night for Family with a Luxury budget with a Flight details,Flight Price with Booking url,Hotels options list with HotelName, Hotel address,Price,hotel image url,geo coordinates, rating, descriptions and Places to visit nearby with placename,Place Details,Place Image Url,Geo Coordinates, ticket Pricing,Time t travel each of the location for 3 days and 2 night with each day plan with best time to visit in JSON"},
            ],
          },
          {
            role: "model",
            parts: [
              {text: "```json\n{\n  \"flight\": {\n    \"details\": {\n      \"airline\": \"Delta Airlines\",\n      \"departure_city\": \"Los Angeles\",\n      \"arrival_city\": \"New York City\",\n      \"departure_date\": \"2024-03-15\",\n      \"return_date\": \"2024-03-18\",\n      \"flight_number\": \"DL1234\",\n      \"class\": \"Business Class\"\n    },\n    \"price\": {\n      \"amount\": 1500,\n      \"currency\": \"USD\"\n    },\n    \"booking_url\": \"https://www.delta.com/\"\n  },\n  \"hotel\": [\n    {\n      \"name\": \"The Peninsula New York\",\n      \"address\": \"700 Fifth Avenue, New York, NY 10019\",\n      \"price\": {\n        \"amount\": 1200,\n        \"currency\": \"USD\"\n      },\n      \"image_url\": \"https://www.thepeninsula.com/newyork/en/images/hotel-gallery/hotel-exterior-day.jpg\",\n      \"geo_coordinates\": {\n        \"latitude\": 40.7580,\n        \"longitude\": -73.9785\n      },\n      \"rating\": 4.5,\n      \"description\": \"Elegant hotel with Michelin-starred dining, a rooftop bar, and stunning views of Central Park.\",\n      \"places_nearby\": [\n        {\n          \"name\": \"Central Park\",\n          \"details\": \"Iconic park with sprawling green spaces, walking paths, and attractions like the Bethesda Terrace and Strawberry Fields.\",\n          \"image_url\": \"https://www.nycgovparks.org/images/parks/central-park/Central%20Park%20-%20Boathouse%20-%20Sunset%20view.jpg\",\n          \"geo_coordinates\": {\n            \"latitude\": 40.7829,\n            \"longitude\": -73.9654\n          },\n          \"ticket_pricing\": \"Free\",\n          \"time_to_travel\": \"1 hour\"\n        },\n        {\n          \"name\": \"The Metropolitan Museum of Art\",\n          \"details\": \"World-renowned art museum with extensive collections spanning centuries and cultures.\",\n          \"image_url\": \"https://www.metmuseum.org/sites/default/files/styles/hero_image_wide/public/images/artworks/18/178/18.178.26_web.jpg\",\n          \"geo_coordinates\": {\n            \"latitude\": 40.7794,\n            \"longitude\": -73.9632\n          },\n          \"ticket_pricing\": \"Suggested donation $25\",\n          \"time_to_travel\": \"2 hours\"\n        }\n      ]\n    },\n    {\n      \"name\": \"The Ritz-Carlton New York, Central Park\",\n      \"address\": \"50 Central Park South, New York, NY 10019\",\n      \"price\": {\n        \"amount\": 1000,\n        \"currency\": \"USD\"\n      },\n      \"image_url\": \"https://www.ritzcarlton.com/en/hotels/new-york/central-park/media/images/hero-header-background-image-desktop.jpg\",\n      \"geo_coordinates\": {\n        \"latitude\": 40.7649,\n        \"longitude\": -73.9771\n      },\n      \"rating\": 4.7,\n      \"description\": \"Luxurious hotel with stunning views of Central Park, a spa, and fine dining options.\",\n      \"places_nearby\": [\n        {\n          \"name\": \"Columbus Circle\",\n          \"details\": \"Bustling intersection with high-end shops, restaurants, and the Time Warner Center.\",\n          \"image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/1/1d/Columbus_Circle_2010.jpg/1200px-Columbus_Circle_2010.jpg\",\n          \"geo_coordinates\": {\n            \"latitude\": 40.7661,\n            \"longitude\": -73.9815\n          },\n          \"ticket_pricing\": \"Free\",\n          \"time_to_travel\": \"30 minutes\"\n        },\n        {\n          \"name\": \"Carnegie Hall\",\n          \"details\": \"Historic concert hall hosting world-class musical performances.\",\n          \"image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/0/02/Carnegie_Hall_2010.jpg/1200px-Carnegie_Hall_2010.jpg\",\n          \"geo_coordinates\": {\n            \"latitude\": 40.7608,\n            \"longitude\": -73.9817\n          },\n          \"ticket_pricing\": \"Varies by event\",\n          \"time_to_travel\": \"1 hour\"\n        }\n      ]\n    },\n    {\n      \"name\": \"The St. Regis New York\",\n      \"address\": \"2 East 55th Street, New York, NY 10022\",\n      \"price\": {\n        \"amount\": 900,\n        \"currency\": \"USD\"\n      },\n      \"image_url\": \"https://www.marriott.com/assets/images/properties/sm/new-york/srny/exterior-view-01.jpg\",\n      \"geo_coordinates\": {\n        \"latitude\": 40.7596,\n        \"longitude\": -73.9687\n      },\n      \"rating\": 4.8,\n      \"description\": \"Grand hotel with a storied past, known for its elegant rooms and world-class service.\",\n      \"places_nearby\": [\n        {\n          \"name\": \"Rockefeller Center\",\n          \"details\": \"Famous complex with the iconic Top of the Rock observation deck, Radio City Music Hall, and shops.\",\n          \"image_url\": \"https://www.rockefellercenter.com/sites/default/files/styles/main_image_home/public/top-of-the-rock-view-city.jpg\",\n          \"geo_coordinates\": {\n            \"latitude\": 40.7580,\n            \"longitude\": -73.9785\n          },\n          \"ticket_pricing\": \"Varies by attraction\",\n          \"time_to_travel\": \"1 hour\"\n        },\n        {\n          \"name\": \"St. Patrick's Cathedral\",\n          \"details\": \"Magnificent neo-Gothic cathedral with stunning stained glass windows and a peaceful atmosphere.\",\n          \"image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/4/4a/St._Patrick%27s_Cathedral%2C_New_York_City%2C_2007.jpg/1200px-St._Patrick%27s_Cathedral%2C_New_York_City%2C_2007.jpg\",\n          \"geo_coordinates\": {\n            \"latitude\": 40.7577,\n            \"longitude\": -73.9791\n          },\n          \"ticket_pricing\": \"Free\",\n          \"time_to_travel\": \"30 minutes\"\n        }\n      ]\n    }\n  ],\n  \"itinerary\": [\n    {\n      \"day\": 1,\n      \"time\": \"Morning (9:00 AM - 12:00 PM)\",\n      \"activity\": \"Visit the Empire State Building\",\n      \"details\": \"Ascend to the observation deck for panoramic views of the city.\",\n      \"image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/9/99/Empire_State_Building_from_the_south.jpg/1200px-Empire_State_Building_from_the_south.jpg\",\n      \"geo_coordinates\": {\n        \"latitude\": 40.7484,\n        \"longitude\": -73.9857\n      },\n      \"ticket_pricing\": \"$39 per adult\",\n      \"time_to_travel\": \"2 hours\"\n    },\n    {\n      \"day\": 1,\n      \"time\": \"Afternoon (1:00 PM - 4:00 PM)\",\n      \"activity\": \"Explore Times Square\",\n      \"details\": \"Experience the vibrant energy of the iconic intersection, with its dazzling lights and Broadway theaters.\",\n      \"image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3b/Times_Square_2010.jpg/1200px-Times_Square_2010.jpg\",\n      \"geo_coordinates\": {\n        \"latitude\": 40.7580,\n        \"longitude\": -73.9855\n      },\n      \"ticket_pricing\": \"Free\",\n      \"time_to_travel\": \"2 hours\"\n    },\n    {\n      \"day\": 1,\n      \"time\": \"Evening (6:00 PM - 9:00 PM)\",\n      \"activity\": \"Dinner at The Clocktower\",\n      \"details\": \"Enjoy a fine dining experience at this Michelin-starred restaurant in the heart of the city.\",\n      \"image_url\": \"https://www.theclocktowernyc.com/images/gallery/clocktower-nyc-restaurant-interior-photo-20.jpg\",\n      \"geo_coordinates\": {\n        \"latitude\": 40.7540,\n        \"longitude\": -73.9801\n      },\n      \"ticket_pricing\": \"Varies by menu\",\n      \"time_to_travel\": \"2 hours\"\n    },\n    {\n      \"day\": 2,\n      \"time\": \"Morning (9:00 AM - 12:00 PM)\",\n      \"activity\": \"Visit the Statue of Liberty and Ellis Island\",\n      \"details\": \"Take a ferry to Liberty Island to see the iconic Statue of Liberty and learn about its history at Ellis Island.\",\n      \"image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/7/71/Statue_of_Liberty_01.jpg/1200px-Statue_of_Liberty_01.jpg\",\n      \"geo_coordinates\": {\n        \"latitude\": 40.6892,\n        \"longitude\": -74.0445\n      },\n      \"ticket_pricing\": \"$30 per adult\",\n      \"time_to_travel\": \"3 hours\"\n    },\n    {\n      \"day\": 2,\n      \"time\": \"Afternoon (1:00 PM - 4:00 PM)\",\n      \"activity\": \"Shopping on Fifth Avenue\",\n      \"details\": \"Browse the luxury boutiques and flagship stores along Fifth Avenue.\",\n      \"image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f8/New_York_Fifth_Avenue.jpg/1200px-New_York_Fifth_Avenue.jpg\",\n      \"geo_coordinates\": {\n        \"latitude\": 40.7580,\n        \"longitude\": -73.9785\n      },\n      \"ticket_pricing\": \"Varies by store\",\n      \"time_to_travel\": \"2 hours\"\n    },\n    {\n      \"day\": 2,\n      \"time\": \"Evening (6:00 PM - 9:00 PM)\",\n      \"activity\": \"Dinner at The NoMad Restaurant\",\n      \"details\": \"Enjoy a stylish and innovative dining experience at this popular restaurant.\",\n      \"image_url\": \"https://www.nomadicnyc.com/wp-content/uploads/2019/10/NoMad-Restaurant-Interior-768x512.jpg\",\n      \"geo_coordinates\": {\n        \"latitude\": 40.7418,\n        \"longitude\": -73.9908\n      },\n      \"ticket_pricing\": \"Varies by menu\",\n      \"time_to_travel\": \"2 hours\"\n    },\n    {\n      \"day\": 3,\n      \"time\": \"Morning (9:00 AM - 12:00 PM)\",\n      \"activity\": \"Visit the Metropolitan Museum of Art\",\n      \"details\": \"Explore the vast collection of art and artifacts from around the world.\",\n      \"image_url\": \"https://www.metmuseum.org/sites/default/files/styles/hero_image_wide/public/images/artworks/18/178/18.178.26_web.jpg\",\n      \"geo_coordinates\": {\n        \"latitude\": 40.7794,\n        \"longitude\": -73.9632\n      },\n      \"ticket_pricing\": \"Suggested donation $25\",\n      \"time_to_travel\": \"3 hours\"\n    },\n    {\n      \"day\": 3,\n      \"time\": \"Afternoon (1:00 PM - 4:00 PM)\",\n      \"activity\": \"Walk through Central Park\",\n      \"details\": \"Enjoy a leisurely stroll through the iconic park, visit the Bethesda Terrace, or take a boat ride.\",\n      \"image_url\": \"https://www.nycgovparks.org/images/parks/central-park/Central%20Park%20-%20Boathouse%20-%20Sunset%20view.jpg\",\n      \"geo_coordinates\": {\n        \"latitude\": 40.7829,\n        \"longitude\": -73.9654\n      },\n      \"ticket_pricing\": \"Free\",\n      \"time_to_travel\": \"2 hours\"\n    },\n    {\n      \"day\": 3,\n      \"time\": \"Evening (6:00 PM - 9:00 PM)\",\n      \"activity\": \"Dinner at The Modern\",\n      \"details\": \"Experience fine dining with stunning views of the city from the Museum of Modern Art.\",\n      \"image_url\": \"https://www.moma.org/images/collection/images/527495.jpg\",\n      \"geo_coordinates\": {\n        \"latitude\": 40.7614,\n        \"longitude\": -73.9772\n      },\n      \"ticket_pricing\": \"Varies by menu\",\n      \"time_to_travel\": \"2 hours\"\n    }\n  ]\n}\n```\n\n**Explanation:**\n\nThis JSON file outlines a 3-day, 2-night luxury travel plan for a family in New York City.\n\n**Flight:**\n\n* **details:** Provides information about the flight, including airline, departure/arrival cities, dates, flight number, and class.\n* **price:** Indicates the cost of the flight in USD.\n* **booking_url:** Links to the airline's website for booking.\n\n**Hotel:**\n\n* Lists three luxurious hotel options with their names, addresses, prices, image URLs, geo-coordinates, ratings, descriptions, and nearby places of interest.\n* Each hotel includes a list of nearby attractions with their details, image URLs, geo-coordinates, ticket pricing, and estimated time to travel.\n\n**Itinerary:**\n\n* Provides a detailed day-by-day itinerary, including specific activities, times, details, image URLs, geo-coordinates, ticket pricing, and time to travel for each activity.\n* The itinerary is designed to provide a balanced mix of sightseeing, cultural experiences, shopping, and fine dining.\n\n**Notes:**\n\n* This itinerary is a suggested plan and can be customized based on the family's preferences and interests.\n* Ticket prices and travel times are estimates and may vary.\n* It's recommended to book flights and hotels in advance, especially for peak seasons.\n* Be sure to factor in transportation costs between locations, as well as time for meals and breaks.\n"},
            ],
          },
      ],
    });
  
    // const result = await chatSession.sendMessage("INSERT_INPUT_HERE");
    // console.log(result.response.text());
